<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset='utf-8'>
    <title>Nettfix</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='bootstrap.min.css'>
    <script src='bootstrap.bundle.min.js'></script>
    <script src='jquery.min.js'></script>
    <style>
      .table thead th { position: sticky; top: 0; z-index: 1;}
      .table thead th :disabled { background: #0275d8; color: white; }
      .code{font-family: monospace;}
      input.form-control { width: auto;}
    </style>
  </head>
  <body>
    <header>
      <div class="navbar navbar-light bg-light shadow-sm">
          <div id="navbar" class="container d-flex justify-content-between">
            <a class="navbar-brand" href="#">
              <img src="nettfix.png" alt="Nettfix" height="36">
            </a>
        </div>
      </div>
    </header>
    <div class="container-md my-5">
      <div class="row">
        <div class="col-md">
          <p>
            This tool will let you edit data from Nettskjema. 
            These edits are usually edits to data that stop data from being entered into the NOAS.
            Any changes needing to be made in data already in the NOAS, should be corrected in the NOAS, <b>not</b>
            through this editor.
          </p>
        </div>
        <div class="col-md">
          <ul><b>Changes often include:</b>
            <li>incorrect ID</li>
            <li>inconsistent sex</li>
            <li>inconsisten birthdate</li>
            <li>data that should be deleted (i.e. not enter NOAS)</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container-md my-5">
      Form: <select class="btn btn-secondary dropdown-toggle" id="form_id" onchange=trigger_table()></select>
      <div id="alerts"></div>
      <div id="modal" class="modal fade" role="dialog"></div>
      <ul class="nav nav-tabs my-3" id="actiontab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="edit-tab" data-bs-toggle="tab" data-bs-target="#edit" type="button" role="tab" aria-controls="edit" aria-selected="true">Edit entries</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="delete-tab" data-bs-toggle="tab" data-bs-target="#delete" type="button" role="tab" aria-controls="delete" aria-selected="false" onclick=get_submissions()>Delete submissions</button>
        </li>
      </ul>
      <div class="tab-content" id="actiontabContent">
        <div class="tab-pane fade show active" id="edit" role="tabpanel" aria-labelledby="edit-tab">
          <div class="row">
            <div id="tsv" class="table table-responsive my-3"></div>
          </div>
        </div>
        <div class="tab-pane fade my-3" id="delete" role="tabpanel" aria-labelledby="delete-tab">
          <div class="row flex-nowrap">
            <div class="col-2">
              <p>Submission id(s) to delete:</p>
              <select class="row btn btn-secondary dropdown-toggle" id="submission_id" multiple></select>
              <small class="row text-muted">Select multiple entries by pressing ctrl or cmd</small>
            </div>
            <div class="col-6" id="deltsv" class="table table-responsive my-3" disabled=true></div>
          </div>
          <div class="row">
            <button id="delbtn" class="btn btn-primary my-3" onclick=on_input()>Save edits</button>
          </div>
        </div>
      </div>

    </div>
  </body>
  <script src="application.js"></script>
</html>
